<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="目前使用到的框架:Dva.jsReactReduxRouter很好很全的css文档  异步学习资料 Generator 函数的含义与用法 Thunk 函数的含义和用法 co 函数库的含义和用法 async 函数的含义和用法  Pass props to {this.props.children}1234//利用该方法可以实现一个通用的父组件，//让子组件传递props，//例如使子组件实现自适应">
<meta property="og:type" content="article">
<meta property="og:title" content="前端笔记">
<meta property="og:url" content="http://yoursite.com/2017/10/21/dva/index.html">
<meta property="og:site_name" content="Drip">
<meta property="og:description" content="目前使用到的框架:Dva.jsReactReduxRouter很好很全的css文档  异步学习资料 Generator 函数的含义与用法 Thunk 函数的含义和用法 co 函数库的含义和用法 async 函数的含义和用法  Pass props to {this.props.children}1234//利用该方法可以实现一个通用的父组件，//让子组件传递props，//例如使子组件实现自适应">
<meta property="og:image" content="http://yoursite.com/2017/10/21/dva/...">
<meta property="og:updated_time" content="2017-12-28T09:11:02.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端笔记">
<meta name="twitter:description" content="目前使用到的框架:Dva.jsReactReduxRouter很好很全的css文档  异步学习资料 Generator 函数的含义与用法 Thunk 函数的含义和用法 co 函数库的含义和用法 async 函数的含义和用法  Pass props to {this.props.children}1234//利用该方法可以实现一个通用的父组件，//让子组件传递props，//例如使子组件实现自适应">
<meta name="twitter:image" content="http://yoursite.com/2017/10/21/dva/...">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>前端笔记</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2017/10/22/golang/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/10/21/js/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2017/10/21/dva/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2017/10/21/dva/&text=前端笔记"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2017/10/21/dva/&title=前端笔记"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2017/10/21/dva/&is_video=false&description=前端笔记"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=前端笔记&body=Check out this article: http://yoursite.com/2017/10/21/dva/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2017/10/21/dva/&title=前端笔记"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2017/10/21/dva/&title=前端笔记"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2017/10/21/dva/&title=前端笔记"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2017/10/21/dva/&title=前端笔记"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2017/10/21/dva/&name=前端笔记&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#异步学习资料"><span class="toc-number">1.</span> <span class="toc-text">异步学习资料</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Pass-props-to-this-props-children"><span class="toc-number">2.</span> <span class="toc-text">Pass props to {this.props.children}</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#强制remount组件"><span class="toc-number">3.</span> <span class="toc-text">强制remount组件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#componentDidMount触发时机"><span class="toc-number">4.</span> <span class="toc-text">componentDidMount触发时机</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#有些时候在componentDidMount中获得Dom宽度不准确"><span class="toc-number">5.</span> <span class="toc-text">有些时候在componentDidMount中获得Dom宽度不准确</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#通过props传递给子组件时，子组件在render中直接用this-props-xxx，不要在constructor中将其赋值给state"><span class="toc-number">6.</span> <span class="toc-text">通过props传递给子组件时，子组件在render中直接用this.props.xxx，不要在constructor中将其赋值给state</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#componentWillReceiveProps很有用"><span class="toc-number">7.</span> <span class="toc-text">componentWillReceiveProps很有用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#字符串不足x位补0"><span class="toc-number">8.</span> <span class="toc-text">字符串不足x位补0</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CSS-文字换行"><span class="toc-number">9.</span> <span class="toc-text">CSS 文字换行</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#如果在componentDidMount中获得的宽度不对？"><span class="toc-number">10.</span> <span class="toc-text">如果在componentDidMount中获得的宽度不对？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#设置元素无法被选中"><span class="toc-number">11.</span> <span class="toc-text">设置元素无法被选中</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#鼠标变成点击状态"><span class="toc-number">12.</span> <span class="toc-text">鼠标变成点击状态</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Autoprefixer"><span class="toc-number">13.</span> <span class="toc-text">Autoprefixer</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#redux-中的state的变量不能太深"><span class="toc-number">14.</span> <span class="toc-text">redux 中的state的变量不能太深</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#react-PureComponent"><span class="toc-number">15.</span> <span class="toc-text">react.PureComponent</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dangerouslySetInnerHTML"><span class="toc-number">16.</span> <span class="toc-text">dangerouslySetInnerHTML</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js有个坑"><span class="toc-number">17.</span> <span class="toc-text">js有个坑</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dva-中-connect（其实就是redux的connect）与-context-冲突"><span class="toc-number">18.</span> <span class="toc-text">dva 中 connect（其实就是redux的connect）与 context 冲突</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1个em的px单位其实就是浏览器内设置的字体大小单位"><span class="toc-number">19.</span> <span class="toc-text">1个em的px单位其实就是浏览器内设置的字体大小单位</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#尽量不要用parseInt-和-parseFloat-来转换-字符串和数字，使用Number"><span class="toc-number">20.</span> <span class="toc-text">尽量不要用parseInt 和 parseFloat 来转换 字符串和数字，使用Number()</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Dva项目中，在react中引入图片，可以使用require-some-url-，这样图片就会被解析为datauri"><span class="toc-number">21.</span> <span class="toc-text">Dva项目中，在react中引入图片，可以使用require(some/url)，这样图片就会被解析为datauri</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-forEach-可以解决map，filter，reduce-解决不了的问题"><span class="toc-number">22.</span> <span class="toc-text">[1,3].forEach() 可以解决map，filter，reduce 解决不了的问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js-的-RegExp-对象"><span class="toc-number">23.</span> <span class="toc-text">js 的 RegExp 对象</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack-编译时可以定义全局变量"><span class="toc-number">24.</span> <span class="toc-text">webpack 编译时可以定义全局变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#roadhog的配置文档还是要看一下的"><span class="toc-number">25.</span> <span class="toc-text">roadhog的配置文档还是要看一下的</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#window-location-host-与-window-location-hostname-的区别"><span class="toc-number">26.</span> <span class="toc-text">window.location.host 与 window.location.hostname 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#css预处理器：sass-scss-和-less-的区别"><span class="toc-number">27.</span> <span class="toc-text">css预处理器：sass/scss 和 less 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack"><span class="toc-number">28.</span> <span class="toc-text">webpack</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#url-loader"><span class="toc-number">29.</span> <span class="toc-text">url-loader</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#node-js-中的process对象"><span class="toc-number">30.</span> <span class="toc-text">node.js 中的process对象</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#总结-webpack-项目中引用图片的方式，以及最终文件的位置"><span class="toc-number">31.</span> <span class="toc-text">总结 webpack 项目中引用图片的方式，以及最终文件的位置</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        前端笔记
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Drip</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-10-21T05:30:30.000Z" itemprop="datePublished">2017-10-21</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <blockquote>
<p>目前使用到的框架:<br>Dva.js<br>React<br>Redux<br>Router<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS" target="_blank" rel="external">很好很全的css文档</a></p>
</blockquote>
<h1 id="异步学习资料"><a href="#异步学习资料" class="headerlink" title="异步学习资料"></a>异步学习资料</h1><ul>
<li><a href="http://www.ruanyifeng.com/blog/2015/04/generator.html" target="_blank" rel="external">Generator 函数的含义与用法</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2015/05/thunk.html" target="_blank" rel="external">Thunk 函数的含义和用法</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2015/05/co.html" target="_blank" rel="external">co 函数库的含义和用法</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2015/05/async.html" target="_blank" rel="external">async 函数的含义和用法</a></li>
</ul>
<h1 id="Pass-props-to-this-props-children"><a href="#Pass-props-to-this-props-children" class="headerlink" title="Pass props to {this.props.children}"></a>Pass props to {this.props.children}</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//利用该方法可以实现一个通用的父组件，</span></div><div class="line"><span class="comment">//让子组件传递props，</span></div><div class="line"><span class="comment">//例如使子组件实现自适应宽度</span></div><div class="line">React.cloneElement(<span class="keyword">this</span>.props.children, &#123;...this.props&#125;;</div></pre></td></tr></table></figure>
<h1 id="强制remount组件"><a href="#强制remount组件" class="headerlink" title="强制remount组件"></a>强制remount组件</h1><p>可以通过更改key值来强制刷新整个组件</p>
<h1 id="componentDidMount触发时机"><a href="#componentDidMount触发时机" class="headerlink" title="componentDidMount触发时机"></a>componentDidMount触发时机</h1><p>当所有子组件执行完componentDidMount之后</p>
<h1 id="有些时候在componentDidMount中获得Dom宽度不准确"><a href="#有些时候在componentDidMount中获得Dom宽度不准确" class="headerlink" title="有些时候在componentDidMount中获得Dom宽度不准确"></a>有些时候在componentDidMount中获得Dom宽度不准确</h1><p>可能是因为webpack打包的css执行在render调用之后，可以用element style在div中显式设置宽度百分比</p>
<h1 id="通过props传递给子组件时，子组件在render中直接用this-props-xxx，不要在constructor中将其赋值给state"><a href="#通过props传递给子组件时，子组件在render中直接用this-props-xxx，不要在constructor中将其赋值给state" class="headerlink" title="通过props传递给子组件时，子组件在render中直接用this.props.xxx，不要在constructor中将其赋值给state"></a>通过props传递给子组件时，子组件在render中直接用this.props.xxx，不要在constructor中将其赋值给state</h1><p>因为每次渲染的时候constructor, componentDidMount不会再次调用。如果需要重新调用这些函数，则必须更改组件的key值，这将导致整个组件重新constructor和mount。</p>
<h1 id="componentWillReceiveProps很有用"><a href="#componentWillReceiveProps很有用" class="headerlink" title="componentWillReceiveProps很有用"></a>componentWillReceiveProps很有用</h1><p>例如封装echarts，可以在该函数内调用echart的setOption方法</p>
<h1 id="字符串不足x位补0"><a href="#字符串不足x位补0" class="headerlink" title="字符串不足x位补0"></a>字符串不足x位补0</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">"9"</span>.padStart(<span class="number">2</span>, <span class="string">'0'</span>)</div><div class="line"><span class="string">"09"</span></div></pre></td></tr></table></figure>
<h1 id="CSS-文字换行"><a href="#CSS-文字换行" class="headerlink" title="CSS 文字换行"></a>CSS 文字换行</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">word-wrap</span>: <span class="selector-tag">break-word</span>;</div></pre></td></tr></table></figure>
<h1 id="如果在componentDidMount中获得的宽度不对？"><a href="#如果在componentDidMount中获得的宽度不对？" class="headerlink" title="如果在componentDidMount中获得的宽度不对？"></a>如果在componentDidMount中获得的宽度不对？</h1><ol>
<li>使用jquery库<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span>;</div><div class="line">componentDidMount() &#123;</div><div class="line">  $(<span class="built_in">document</span>).ready(<span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="设置元素无法被选中"><a href="#设置元素无法被选中" class="headerlink" title="设置元素无法被选中"></a>设置元素无法被选中</h1><p>css可以设置<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">user-select</span>: <span class="selector-tag">none</span>;</div><div class="line"><span class="selector-tag">-moz-user-select</span>: <span class="selector-tag">none</span>;</div><div class="line"><span class="selector-tag">-webkit-user-select</span>: <span class="selector-tag">none</span>;</div><div class="line"><span class="selector-tag">-ms-user-select</span>: <span class="selector-tag">none</span>;</div></pre></td></tr></table></figure></p>
<h1 id="鼠标变成点击状态"><a href="#鼠标变成点击状态" class="headerlink" title="鼠标变成点击状态"></a>鼠标变成点击状态</h1><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">style="cursor:pointer"</div></pre></td></tr></table></figure>
<h1 id="Autoprefixer"><a href="#Autoprefixer" class="headerlink" title="Autoprefixer"></a>Autoprefixer</h1><p>可以集成到webpack的插件，用于解析css文件，添加上浏览器特性的css<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-pseudo">:fullscreen</span> <span class="selector-tag">a</span> &#123;</div><div class="line">    <span class="attribute">display</span>: flex</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>==&gt;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="selector-pseudo">:-webkit-full-screen</span> <span class="selector-tag">a</span> &#123;</div><div class="line">    <span class="attribute">display</span>: -webkit-box;</div><div class="line">    <span class="attribute">display</span>: flex</div><div class="line">&#125;</div><div class="line"><span class="selector-pseudo">:-moz-full-screen</span> <span class="selector-tag">a</span> &#123;</div><div class="line">    <span class="attribute">display</span>: flex</div><div class="line">&#125;</div><div class="line"><span class="selector-pseudo">:-ms-fullscreen</span> <span class="selector-tag">a</span> &#123;</div><div class="line">    <span class="attribute">display</span>: -ms-flexbox;</div><div class="line">    <span class="attribute">display</span>: flex</div><div class="line">&#125;</div><div class="line"><span class="selector-pseudo">:fullscreen</span> <span class="selector-tag">a</span> &#123;</div><div class="line">    <span class="attribute">display</span>: -webkit-box;</div><div class="line">    <span class="attribute">display</span>: -ms-flexbox;</div><div class="line">    <span class="attribute">display</span>: flex</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="redux-中的state的变量不能太深"><a href="#redux-中的state的变量不能太深" class="headerlink" title="redux 中的state的变量不能太深"></a>redux 中的state的变量不能太深</h1><p>这是因为它的工作原理是判断react中引用的state变量的地址是否改变来触发重新渲染。如果变量嵌套很深，而你在react component中只引用了上层的变量，很可能该变量的地址没有改变，导致组件并没有渲染。</p>
<h1 id="react-PureComponent"><a href="#react-PureComponent" class="headerlink" title="react.PureComponent"></a>react.PureComponent</h1><p><a href="https://www.timefly.cn/react-purecomponent-with-immutablejs/" target="_blank" rel="external">链接</a></p>
<h1 id="dangerouslySetInnerHTML"><a href="#dangerouslySetInnerHTML" class="headerlink" title="dangerouslySetInnerHTML"></a>dangerouslySetInnerHTML</h1><p>可以实现富文本样式</p>
<h1 id="js有个坑"><a href="#js有个坑" class="headerlink" title="js有个坑"></a>js有个坑</h1><p>var a = [1,2,3,4]<br>for (const i in a) 这里的 i 的type 是 string， 用typeof i</p>
<h1 id="dva-中-connect（其实就是redux的connect）与-context-冲突"><a href="#dva-中-connect（其实就是redux的connect）与-context-冲突" class="headerlink" title="dva 中 connect（其实就是redux的connect）与 context 冲突"></a>dva 中 connect（其实就是redux的connect）与 context 冲突</h1><p>在connect绑定后的对象，不能访问到this.context对象，这是空的。<br>如果非要使用context对象，请在该组件的上层组件中先获取context，然后在它的父级组件中（前提是未connect）获取它，然后传给当前组件。<br>尽量不要使用context，因为该api是不稳定的。<br>context的传入组件 和 传出组件 都必须是未绑定的 unconnected</p>
<blockquote>
<p>We don’t want to expose context in the public API because it is unstable API and will likely change. We can rely on it internally because we know our internal use case will still be supported but we don’t want to offer a public API like this and then break everyone if React does something like the “single context parent” thing they promised to do.<br>If you’d like to read something from context, please read it in a parent component, and pass it to the connect()ed component. Then it will be able to read that value from ownProps.</p>
</blockquote>
<h1 id="1个em的px单位其实就是浏览器内设置的字体大小单位"><a href="#1个em的px单位其实就是浏览器内设置的字体大小单位" class="headerlink" title="1个em的px单位其实就是浏览器内设置的字体大小单位"></a>1个em的px单位其实就是浏览器内设置的字体大小单位</h1><h1 id="尽量不要用parseInt-和-parseFloat-来转换-字符串和数字，使用Number"><a href="#尽量不要用parseInt-和-parseFloat-来转换-字符串和数字，使用Number" class="headerlink" title="尽量不要用parseInt 和 parseFloat 来转换 字符串和数字，使用Number()"></a>尽量不要用parseInt 和 parseFloat 来转换 字符串和数字，使用Number()</h1><p>因为有是否不能确定当前的字符串表示的是整数还是浮点数，对于这类需求，可以使用Number来代替。而parseInt/parseFloat系列是用于其他目的（除了转换字符串和数字）的：parseInt(1.23)可以取整，parseInt(110011, 2)转换其他进制至十进制等高级用途。</p>
<h1 id="Dva项目中，在react中引入图片，可以使用require-some-url-，这样图片就会被解析为datauri"><a href="#Dva项目中，在react中引入图片，可以使用require-some-url-，这样图片就会被解析为datauri" class="headerlink" title="Dva项目中，在react中引入图片，可以使用require(some/url)，这样图片就会被解析为datauri"></a>Dva项目中，在react中引入图片，可以使用require(some/url)，这样图片就会被解析为datauri</h1><h1 id="1-3-forEach-可以解决map，filter，reduce-解决不了的问题"><a href="#1-3-forEach-可以解决map，filter，reduce-解决不了的问题" class="headerlink" title="[1,3].forEach() 可以解决map，filter，reduce 解决不了的问题"></a>[1,3].forEach() 可以解决map，filter，reduce 解决不了的问题</h1><h1 id="js-的-RegExp-对象"><a href="#js-的-RegExp-对象" class="headerlink" title="js 的 RegExp 对象"></a>js 的 RegExp 对象</h1><p>直接量语法<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/pattern/attributes</div></pre></td></tr></table></figure></p>
<p>创建RegExp对象的语法<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> <span class="built_in">RegExp</span>(pattern, attributes);</div></pre></td></tr></table></figure></p>
<h1 id="webpack-编译时可以定义全局变量"><a href="#webpack-编译时可以定义全局变量" class="headerlink" title="webpack 编译时可以定义全局变量"></a>webpack 编译时可以定义全局变量</h1><p>利用插件<code>DefinePlugin</code>。在dva的roadhog中，只需要使用define即可（.roadhog文件）<br>利用这个特性，可以实现开发和发行阶段的不同变量设置：debug参数</p>
<h1 id="roadhog的配置文档还是要看一下的"><a href="#roadhog的配置文档还是要看一下的" class="headerlink" title="roadhog的配置文档还是要看一下的"></a>roadhog的配置文档还是要看一下的</h1><p><a href="https://github.com/sorrycc/roadhog" target="_blank" rel="external">链接</a></p>
<h1 id="window-location-host-与-window-location-hostname-的区别"><a href="#window-location-host-与-window-location-hostname-的区别" class="headerlink" title="window.location.host 与 window.location.hostname 的区别"></a>window.location.host 与 window.location.hostname 的区别</h1><p>window.location.host 包含端口号，但如果是80端口，则默认不会显示<br>window.location.hostname 只包含域名，不包含端口号</p>
<h1 id="css预处理器：sass-scss-和-less-的区别"><a href="#css预处理器：sass-scss-和-less-的区别" class="headerlink" title="css预处理器：sass/scss 和 less 的区别"></a>css预处理器：sass/scss 和 less 的区别</h1><p><code>Sass</code>：2007年诞生，最早也是最成熟的CSS预处理器，拥有ruby社区的支持和compass这一最强大的css框架，目前受LESS影响，已经进化到了全面兼容CSS的SCSS。<br>最早出现的是sass，但是语法编排是缩进式的（类似于python）。由于sass主要是用ruby实现的，因此不能像less一样在浏览器中用js转化为css。<br><code>Less</code>：2009年出现，受SASS的影响较大，但又使用CSS的语法，让大部分开发者和设计师更容易上手，在ruby社区之外支持者远超过SASS，其缺点是比起SASS来，可编程功能不够，不过优点是简单和兼容CSS，反过来也影响了SASS演变到了SCSS的时代，著名的Twitter Bootstrap就是采用LESS做底层语言的。Less 中文文档<br><code>注意：sass有两种语法，分别以「 *.sass 」和「 *.scss 」为扩展名</code><br><code>sass</code> 有三种使用方式： 命令行工具、独立的 Ruby 模块，以及包含 Ruby on Rails 和 Merb 作为支持 Rack 的框架的插件。    </p>
<h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><p>webpack使用node.js，因此loader和plugin都可以写的很强大<br><a href="https://doc.webpack-china.org/guides/production/" target="_blank" rel="external">看这个</a><br><a href="https://doc.webpack-china.org/loaders/" target="_blank" rel="external">查看所有loader</a><br><code>loader</code>： 用于将所有webpack不能处理的类型（除JavaScript）转化为可以处理的模块<br><code>plugin</code>： 可以用于执行范围更广的任务。插件的范围包括，从打包优化和压缩，一直到重新定义环境中的变量。插件接口功能极其强大，可以用来处理各种各样的任务。<br>webpack能够以各种方式表达他们的依赖关系：</p>
<ul>
<li>ES2015 的 import</li>
<li>Common JS 的 require</li>
<li>AMD 的 define 和 require</li>
<li>css/sass/less 文件中的 @import</li>
<li>样式的 url，或 html 中的 <img src="..."></li>
</ul>
<p>babel-loader, css-loader, style-loader, url-loader(可以将图片等文件转换为模块供webpack使用)   </p>
<h1 id="url-loader"><a href="#url-loader" class="headerlink" title="url-loader"></a>url-loader</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>: &#123;</div><div class="line">　　loaders: [</div><div class="line">　　　　&#123;</div><div class="line">　　　　　　test: <span class="regexp">/\.(png|jpg)$/</span>,</div><div class="line">　　　　　　loader: <span class="string">'url-loader?limit=8192&amp;name=images/[hash:8].[name].[ext]'</span></div><div class="line">　　　　&#125;</div><div class="line">　　]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>loader 后面 limit 字段代表图片打包限制，这个限制并不是说超过了就不能打包，而是指当图片大小小于限制时会自动转成 base64 码引用。上例中大于8192字节的图片正常打包，小于8192字节的图片以 base64 的方式引用。url-loader 后面除了 limit 字段，还可以通过 name 字段来指定图片打包的目录与文件名。<br>这个 loader 实际上是对 <code>file-loader</code> 的封装，因此具有重命名文件的能力（name=xxx）,</p>
<p><code>publicPath</code><br>output.publicPath 表示资源的发布地址，当配置过该属性后，打包文件中<code>所有通过相对路径引用</code>的资源都会被配置的路径所替换。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">output: &#123;</div><div class="line">　　path: <span class="string">'dist'</span>,</div><div class="line">　　publicPath: <span class="string">'/assets/'</span>,  <span class="comment">//默认一般是/</span></div><div class="line">　　filename: <span class="string">'bundle.js'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><code>resolve</code><br>很多Webpack的配置文件都有一个resolve属性，然后就像下面代码所示有一个空字符串的值。空字符串在此是为了resolve一些在import文件时不带文件扩展名的表达式，如require(‘./myJSFile’)或者import myJSFile from ‘./myJSFile’（译者注：实际就是自动添加后缀，默认是当成js文件来查找路径）<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line"> resolve: &#123;</div><div class="line">   extensions: [<span class="string">''</span>, <span class="string">'.js'</span>, <span class="string">'.jsx'</span>]</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><code>DefinePlugin</code><br>允许创建一个在编译时可以配置的全局常量。这可能会对开发模式和发布模式的构建允许不同的行为非常有用。<br>其实就是字符串的替换，由于 node.js 中，大家用的 <code>process.env</code> 获取环境变量，沿用这个习惯，在前端中，可以见到这样的用法：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 将process.env 整个替换成 &#123;NODE_ENV: "production"&#125;</span></div><div class="line"><span class="keyword">new</span> webpack.DefinePlugin(&#123;</div><div class="line">  <span class="string">"process.env"</span>: &#123;</div><div class="line">    NODE_ENV: <span class="built_in">JSON</span>.stringify(<span class="string">"production"</span>)   <span class="comment">//而不是直接 'production'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<ul>
<li>如果这个值是一个字符串，它会被当作一个代码片段来使用。</li>
<li>如果这个值不是字符串，它会被转化为字符串(包括函数)。</li>
<li>如果这个值是一个对象，它所有的 key 会被同样的方式定义。</li>
<li>如果在一个 key 前面加了 typeof,它会被定义为 typeof 调用<br>所以我们一般使用<code>JSON.stringify()</code>来生成我们需要的value</li>
</ul>
<h1 id="node-js-中的process对象"><a href="#node-js-中的process对象" class="headerlink" title="node.js 中的process对象"></a>node.js 中的process对象</h1><p>process对象是 Node 的一个全局对象，提供当前 Node 进程的信息。它可以在脚本的任意位置使用，不必通过require命令加载。该对象部署了EventEmitter接口。<br>process 提供一下属性，用于返回系统信息   </p>
<ul>
<li>process.argv：返回一个数组，成员是当前进程的所有命令行参数。</li>
<li>process.env：返回一个对象，成员为当前Shell的环境变量，比如process.env.HOME。</li>
<li>process.installPrefix：返回一个字符串，表示 Node 安装路径的前缀，比如/usr/local。相应地，Node 的执行文件目录为/usr/local/bin/node。</li>
<li>process.pid：返回一个数字，表示当前进程的进程号。</li>
<li>process.platform：返回一个字符串，表示当前的操作系统，比如Linux。</li>
<li>process.title：返回一个字符串，默认值为node，可以自定义该值。</li>
<li>process.version：返回一个字符串，表示当前使用的 Node 版本，比如v7.10.0。</li>
</ul>
<h1 id="总结-webpack-项目中引用图片的方式，以及最终文件的位置"><a href="#总结-webpack-项目中引用图片的方式，以及最终文件的位置" class="headerlink" title="总结 webpack 项目中引用图片的方式，以及最终文件的位置"></a>总结 webpack 项目中引用图片的方式，以及最终文件的位置</h1><p>以dva项目结构为例：</p>
<ul>
<li>dist</li>
<li>public</li>
<li>src<ul>
<li>assets</li>
</ul>
</li>
</ul>
<p>首先，我们在 <code>src</code> 里面写代码，中间需要的图片的路径可以随便放（反正通过相对路径来引用），但一般规范会在 <code>src</code> 下面简历一个 <code>assets</code> 文件夹同意管理资源文件。然后我们代码中引用的资源会被 <code>url-loader</code> 处理（name=xxx），它会将其重命名并放入 <code>dist</code> 下并以 <code>publicPath</code> 为根目录下，并将代码里面的相对引用处理成重命名后的地址。而 <code>public</code> 文件夹中（里面包含有 index.html, index.css ），我们可以在该文件夹下放置一些在 <code>index.html</code> 或 <code>index.css</code> 中引用到的资源，它们会在打包的时候按照目录结构放置到 <code>dist</code> 文件夹下。</p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#异步学习资料"><span class="toc-number">1.</span> <span class="toc-text">异步学习资料</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Pass-props-to-this-props-children"><span class="toc-number">2.</span> <span class="toc-text">Pass props to {this.props.children}</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#强制remount组件"><span class="toc-number">3.</span> <span class="toc-text">强制remount组件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#componentDidMount触发时机"><span class="toc-number">4.</span> <span class="toc-text">componentDidMount触发时机</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#有些时候在componentDidMount中获得Dom宽度不准确"><span class="toc-number">5.</span> <span class="toc-text">有些时候在componentDidMount中获得Dom宽度不准确</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#通过props传递给子组件时，子组件在render中直接用this-props-xxx，不要在constructor中将其赋值给state"><span class="toc-number">6.</span> <span class="toc-text">通过props传递给子组件时，子组件在render中直接用this.props.xxx，不要在constructor中将其赋值给state</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#componentWillReceiveProps很有用"><span class="toc-number">7.</span> <span class="toc-text">componentWillReceiveProps很有用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#字符串不足x位补0"><span class="toc-number">8.</span> <span class="toc-text">字符串不足x位补0</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CSS-文字换行"><span class="toc-number">9.</span> <span class="toc-text">CSS 文字换行</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#如果在componentDidMount中获得的宽度不对？"><span class="toc-number">10.</span> <span class="toc-text">如果在componentDidMount中获得的宽度不对？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#设置元素无法被选中"><span class="toc-number">11.</span> <span class="toc-text">设置元素无法被选中</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#鼠标变成点击状态"><span class="toc-number">12.</span> <span class="toc-text">鼠标变成点击状态</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Autoprefixer"><span class="toc-number">13.</span> <span class="toc-text">Autoprefixer</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#redux-中的state的变量不能太深"><span class="toc-number">14.</span> <span class="toc-text">redux 中的state的变量不能太深</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#react-PureComponent"><span class="toc-number">15.</span> <span class="toc-text">react.PureComponent</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dangerouslySetInnerHTML"><span class="toc-number">16.</span> <span class="toc-text">dangerouslySetInnerHTML</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js有个坑"><span class="toc-number">17.</span> <span class="toc-text">js有个坑</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dva-中-connect（其实就是redux的connect）与-context-冲突"><span class="toc-number">18.</span> <span class="toc-text">dva 中 connect（其实就是redux的connect）与 context 冲突</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1个em的px单位其实就是浏览器内设置的字体大小单位"><span class="toc-number">19.</span> <span class="toc-text">1个em的px单位其实就是浏览器内设置的字体大小单位</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#尽量不要用parseInt-和-parseFloat-来转换-字符串和数字，使用Number"><span class="toc-number">20.</span> <span class="toc-text">尽量不要用parseInt 和 parseFloat 来转换 字符串和数字，使用Number()</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Dva项目中，在react中引入图片，可以使用require-some-url-，这样图片就会被解析为datauri"><span class="toc-number">21.</span> <span class="toc-text">Dva项目中，在react中引入图片，可以使用require(some/url)，这样图片就会被解析为datauri</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-forEach-可以解决map，filter，reduce-解决不了的问题"><span class="toc-number">22.</span> <span class="toc-text">[1,3].forEach() 可以解决map，filter，reduce 解决不了的问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js-的-RegExp-对象"><span class="toc-number">23.</span> <span class="toc-text">js 的 RegExp 对象</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack-编译时可以定义全局变量"><span class="toc-number">24.</span> <span class="toc-text">webpack 编译时可以定义全局变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#roadhog的配置文档还是要看一下的"><span class="toc-number">25.</span> <span class="toc-text">roadhog的配置文档还是要看一下的</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#window-location-host-与-window-location-hostname-的区别"><span class="toc-number">26.</span> <span class="toc-text">window.location.host 与 window.location.hostname 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#css预处理器：sass-scss-和-less-的区别"><span class="toc-number">27.</span> <span class="toc-text">css预处理器：sass/scss 和 less 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack"><span class="toc-number">28.</span> <span class="toc-text">webpack</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#url-loader"><span class="toc-number">29.</span> <span class="toc-text">url-loader</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#node-js-中的process对象"><span class="toc-number">30.</span> <span class="toc-text">node.js 中的process对象</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#总结-webpack-项目中引用图片的方式，以及最终文件的位置"><span class="toc-number">31.</span> <span class="toc-text">总结 webpack 项目中引用图片的方式，以及最终文件的位置</span></a></li></ol>
    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2017 Landleany
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


