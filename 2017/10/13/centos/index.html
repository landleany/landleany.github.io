<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="记录下使用中遇到的东西   如何方便的移除 yum 安装的 package 以及其依赖的所有 packages链接 $0 $1 $@ $分别表示脚本名，第一个参数，所有参数列表（不含脚本名），参数个数（不含脚本名） docker  宿主:容器，注意顺序不要弄反了rpmRedHat Package Manager（RedHat软件包管理工具）rpm只支持下载到本地进行安装，可以使用Yum来弥补rpm">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOS操作">
<meta property="og:url" content="http://yoursite.com/2017/10/13/centos/index.html">
<meta property="og:site_name" content="Drip">
<meta property="og:description" content="记录下使用中遇到的东西   如何方便的移除 yum 安装的 package 以及其依赖的所有 packages链接 $0 $1 $@ $分别表示脚本名，第一个参数，所有参数列表（不含脚本名），参数个数（不含脚本名） docker  宿主:容器，注意顺序不要弄反了rpmRedHat Package Manager（RedHat软件包管理工具）rpm只支持下载到本地进行安装，可以使用Yum来弥补rpm">
<meta property="og:updated_time" content="2018-09-08T12:19:21.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CentOS操作">
<meta name="twitter:description" content="记录下使用中遇到的东西   如何方便的移除 yum 安装的 package 以及其依赖的所有 packages链接 $0 $1 $@ $分别表示脚本名，第一个参数，所有参数列表（不含脚本名），参数个数（不含脚本名） docker  宿主:容器，注意顺序不要弄反了rpmRedHat Package Manager（RedHat软件包管理工具）rpm只支持下载到本地进行安装，可以使用Yum来弥补rpm">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>CentOS操作</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2017/10/19/beego/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/10/12/hello-world/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2017/10/13/centos/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2017/10/13/centos/&text=CentOS操作"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2017/10/13/centos/&title=CentOS操作"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2017/10/13/centos/&is_video=false&description=CentOS操作"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=CentOS操作&body=Check out this article: http://yoursite.com/2017/10/13/centos/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2017/10/13/centos/&title=CentOS操作"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2017/10/13/centos/&title=CentOS操作"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2017/10/13/centos/&title=CentOS操作"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2017/10/13/centos/&title=CentOS操作"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2017/10/13/centos/&name=CentOS操作&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#如何方便的移除-yum-安装的-package-以及其依赖的所有-packages"><span class="toc-number">1.</span> <span class="toc-text">如何方便的移除 yum 安装的 package 以及其依赖的所有 packages</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0-1"><span class="toc-number">2.</span> <span class="toc-text">$0 $1 $@ $</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker-宿主-容器，注意顺序不要弄反了"><span class="toc-number">3.</span> <span class="toc-text">docker  宿主:容器，注意顺序不要弄反了</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#rpm"><span class="toc-number">4.</span> <span class="toc-text">rpm</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#yum"><span class="toc-number">5.</span> <span class="toc-text">yum</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ssh"><span class="toc-number">6.</span> <span class="toc-text">ssh</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#防火墙"><span class="toc-number">7.</span> <span class="toc-text">防火墙</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker"><span class="toc-number">8.</span> <span class="toc-text">docker</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CentOS下docker权限问题"><span class="toc-number">8.0.1.</span> <span class="toc-text">CentOS下docker权限问题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SELinux"><span class="toc-number">9.</span> <span class="toc-text">SELinux</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker-compose"><span class="toc-number">10.</span> <span class="toc-text">docker-compose</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#epel扩展源"><span class="toc-number">10.0.1.</span> <span class="toc-text">epel扩展源</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#systemctl"><span class="toc-number">11.</span> <span class="toc-text">systemctl</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#chkconfig"><span class="toc-number">12.</span> <span class="toc-text">chkconfig</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#lsof"><span class="toc-number">13.</span> <span class="toc-text">lsof</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#chkconfig-1"><span class="toc-number">14.</span> <span class="toc-text">chkconfig</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vagrant"><span class="toc-number">15.</span> <span class="toc-text">vagrant</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mac中开启端口转发"><span class="toc-number">16.</span> <span class="toc-text">mac中开启端口转发</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mkdir"><span class="toc-number">17.</span> <span class="toc-text">mkdir</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#连接数据库"><span class="toc-number">18.</span> <span class="toc-text">连接数据库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查看数据库表结构"><span class="toc-number">19.</span> <span class="toc-text">查看数据库表结构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#添加用户并设置ssh"><span class="toc-number">20.</span> <span class="toc-text">添加用户并设置ssh</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ssh-与-telnet-的区别"><span class="toc-number">21.</span> <span class="toc-text">ssh 与 telnet 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#gt-dev-null-2-gt-amp-1"><span class="toc-number">22.</span> <span class="toc-text">> /dev/null 2>&1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#curl-o-filepath-url"><span class="toc-number">23.</span> <span class="toc-text">curl -o filepath url</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nohup-命令"><span class="toc-number">24.</span> <span class="toc-text">nohup 命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#centos-路径区分大小写"><span class="toc-number">25.</span> <span class="toc-text">centos 路径区分大小写</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#find-or-grep"><span class="toc-number">26.</span> <span class="toc-text">find or grep</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cURL-and-wget"><span class="toc-number">27.</span> <span class="toc-text">cURL and wget</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查看当前用户的-uid-gid-等信息"><span class="toc-number">28.</span> <span class="toc-text">查看当前用户的 uid, gid 等信息</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查看系统上的所有用户（Linux支持，Mac不支持）"><span class="toc-number">29.</span> <span class="toc-text">查看系统上的所有用户（Linux支持，Mac不支持）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#systemd-和-systemctl"><span class="toc-number">30.</span> <span class="toc-text">systemd 和 systemctl</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#shell-空语句"><span class="toc-number">31.</span> <span class="toc-text">shell 空语句</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nc-l-8000"><span class="toc-number">32.</span> <span class="toc-text">nc -l 8000</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nc-和-telnet"><span class="toc-number">33.</span> <span class="toc-text">nc 和 telnet</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-到底有什么用，以及其他奇怪的用法"><span class="toc-number">34.</span> <span class="toc-text">set 到底有什么用，以及其他奇怪的用法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#kill-pid-与-kill-9-pid-的区别"><span class="toc-number">35.</span> <span class="toc-text">kill pid 与 kill -9 pid 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ps-eww-p-xxx-查看对应进程内的环境变量"><span class="toc-number">36.</span> <span class="toc-text">ps eww -p xxx 查看对应进程内的环境变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#var-offset-length"><span class="toc-number">37.</span> <span class="toc-text">${var:offset:length}</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#var-word"><span class="toc-number">38.</span> <span class="toc-text">${var:-word}</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        CentOS操作
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Drip</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-10-12T16:30:30.000Z" itemprop="datePublished">2017-10-13</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>记录下使用中遇到的东西  </p>
<h1 id="如何方便的移除-yum-安装的-package-以及其依赖的所有-packages"><a href="#如何方便的移除-yum-安装的-package-以及其依赖的所有-packages" class="headerlink" title="如何方便的移除 yum 安装的 package 以及其依赖的所有 packages"></a>如何方便的移除 yum 安装的 package 以及其依赖的所有 packages</h1><p><a href="https://unix.stackexchange.com/questions/40179/remove-unused-packages" target="_blank" rel="external">链接</a></p>
<h1 id="0-1"><a href="#0-1" class="headerlink" title="$0 $1 $@ $"></a>$0 $1 $@ $</h1><p>分别表示脚本名，第一个参数，所有参数列表（不含脚本名），参数个数（不含脚本名）</p>
<h1 id="docker-宿主-容器，注意顺序不要弄反了"><a href="#docker-宿主-容器，注意顺序不要弄反了" class="headerlink" title="docker  宿主:容器，注意顺序不要弄反了"></a>docker  宿主:容器，注意顺序不要弄反了</h1><h1 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h1><p>RedHat Package Manager（RedHat软件包管理工具）<br>rpm只支持下载到本地进行安装，可以使用Yum来弥补<br>rpm包分为两种：  </p>
<ol>
<li>二进制包   xxx.rpm</li>
<li>rpm源码包  xxx.rpm.src</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ rpm -aq  <span class="comment"># 查询所有已经安装的包</span></div><div class="line">$ rpm -i   <span class="comment"># 安装包</span></div></pre></td></tr></table></figure>
<h1 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h1><p>yum（全称为 Yellow dog Updater, Modified）是一个在Fedora和RedHat以及SUSE中的Shell前端软件包管理器。基於RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。yum提供了查找、安装、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ yum list  <span class="comment"># 列出所有已安装的包</span></div><div class="line">$ yum install</div><div class="line">$ yum -y install</div></pre></td></tr></table></figure>
<h1 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># sshd 配置</span></div><div class="line">$ <span class="built_in">cd</span> /etc/ssh</div><div class="line">$ vi sshd_config  <span class="comment"># 修改以下内容</span></div><div class="line">  Port 22</div><div class="line">  AddressFamily any</div><div class="line">  ListenAddress 0.0.0.0</div><div class="line">  PermitRootLogin yes</div><div class="line"></div><div class="line">$ service sshd restart <span class="comment"># 重启服务</span></div><div class="line"></div><div class="line"><span class="comment"># ssh</span></div><div class="line">$ ssh name@someip -p 3223 <span class="comment"># 默认22端口可以省略-p</span></div></pre></td></tr></table></figure>
<h1 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h1><p>CentOS 6 使用iptable作为防火墙<br>CentOS 7 使用firewall作为防火墙<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ service firewalld start</div><div class="line">$ service firewalld restart</div><div class="line">$ service firewalld stop</div><div class="line"></div><div class="line">$ firewall-cmd --state <span class="comment"># 查看当前防火墙是否启动</span></div><div class="line">  not running</div><div class="line">$ firewall-cmd --list-ports <span class="comment"># 查看开放端口</span></div></pre></td></tr></table></figure></p>
<h1 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h1><p>通过yum install docker之后，必须用sudo才能执行docker客户端命令。<br>还需要将用户加到docker组里。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ service docker restart/start/stop</div><div class="line"></div><div class="line"><span class="comment"># 通过yum安装docker后只有一个dockerroot组，所以还需要添加docker组：</span></div><div class="line">$ sudo groupadd docker</div><div class="line"><span class="comment"># 通过sudo cat /etc/group | grep docker 判断是否docker组是否添加成功</span></div><div class="line"></div><div class="line"><span class="comment"># 通过以下命令添加用户到docker组</span></div><div class="line">$ sudo gpasswd -a <span class="variable">$&#123;USER&#125;</span> docker 添加<span class="variable">$USER</span>到docker组</div><div class="line">$ sudo service docker restart</div><div class="line"><span class="comment"># 然后退出，重新登录</span></div><div class="line"></div><div class="line"><span class="comment"># 替换国内源</span></div><div class="line"><span class="comment"># 可以在 Docker 守护进程启动时传入 --registry-mirror</span></div><div class="line">$ docker --registry-mirror=https://registry.docker-cn.com</div><div class="line"><span class="comment"># 或者可以修改 /etc/docker/daemon.json</span></div><div class="line">&#123;</div><div class="line">  <span class="string">"registry-mirrors"</span>: [<span class="string">"https://registry.docker-cn.com"</span>]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="CentOS下docker权限问题"><a href="#CentOS下docker权限问题" class="headerlink" title="CentOS下docker权限问题"></a>CentOS下docker权限问题</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># CentOS开启SELinux情况下，docker挂载的目录下的文件container运行会出现Permission deny的情况</span></div></pre></td></tr></table></figure>
<h1 id="SELinux"><a href="#SELinux" class="headerlink" title="SELinux"></a>SELinux</h1><p>SELinux全称是Security Enhanced Linux，由美国国家安全部(National Security Agency)领导开发的GPL项目，它拥有一个灵活而强制性的访问控制结构，旨在提高Linux系统的安全性，提供强健的安全保证，可防御未知攻击，据称相当于B1级的军事安全性能。比MS NT所谓的C2等高得多。<br>因为SELinux的安全性,使得很多应用在一些默认设置下,由于SELinux的设置而造成一些额外的问题。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 关闭SELinux</span></div><div class="line">$ sudo vi /etc/sysconfig/selinux</div><div class="line">  SELINUX=disabled</div></pre></td></tr></table></figure>
<h1 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h1><h3 id="epel扩展源"><a href="#epel扩展源" class="headerlink" title="epel扩展源"></a>epel扩展源</h3><p>EPEL (Extra Packages for Enterprise Linux，企业版Linux的额外软件包) 是Fedora小组维护的一个软件仓库项目，为RHEL/CentOS提供他们默认不提供的软件包。这个源兼容RHEL及像CentOS和Scientific Linux这样的衍生版本。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo yum -y install epel-release 安装epel扩展源，否则搜不到python-pip包</div><div class="line">$ sudo yum install python-pip</div><div class="line">$ sudo pip install --upgrade pip <span class="comment"># 最好升级一下pip</span></div><div class="line">$ sudo pip install docker-compose</div></pre></td></tr></table></figure>
<h1 id="systemctl"><a href="#systemctl" class="headerlink" title="systemctl"></a>systemctl</h1><h1 id="chkconfig"><a href="#chkconfig" class="headerlink" title="chkconfig"></a>chkconfig</h1><h1 id="lsof"><a href="#lsof" class="headerlink" title="lsof"></a>lsof</h1><p>lsof（list open files）是一个列出当前系统打开文件的工具。在linux环境下，任何事物都以文件的形式存在，通过文件不仅仅可以访问常规数据，还可以访问网络连接和硬件。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 常用的命令</span></div><div class="line">$ lsof -i:22  <span class="comment"># 查看占用22端口的文件</span></div></pre></td></tr></table></figure></p>
<h1 id="chkconfig-1"><a href="#chkconfig-1" class="headerlink" title="chkconfig"></a>chkconfig</h1><p>chkconfig命令主要用来更新（启动或停止）和查询系统服务的运行级信息。谨记chkconfig不是立即自动禁止或激活一个服务，它只是简单的改变了符号连接。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ chkconfig xxx  <span class="comment"># 查询xxx是否在当前运行级系统开启时启动</span></div><div class="line">$ chkconfig xxx on/off/reset</div></pre></td></tr></table></figure>
<h1 id="vagrant"><a href="#vagrant" class="headerlink" title="vagrant"></a>vagrant</h1><p>如何使用virtual box作为vm provider，设置sync_folder前需要执行以下命令：<br>vagrant plugin install vagrant-vbguest</p>
<h1 id="mac中开启端口转发"><a href="#mac中开启端口转发" class="headerlink" title="mac中开启端口转发"></a>mac中开启端口转发</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># IPv4 的转发</span></div><div class="line">$ sudo sysctl -w net.inet.ip.forwarding=1</div><div class="line">  net.inet.ip.forwarding: 0 -&gt; 1</div><div class="line"></div><div class="line"><span class="comment"># IPv6 的转发</span></div><div class="line">$ sudo sysctl -w net.inet6.ip6.forwarding=1</div><div class="line">  net.inet6.ip6.forwarding: 0 -&gt; 1</div><div class="line"></div><div class="line"><span class="comment"># 查看当前端口转发是否开启</span></div><div class="line">$ sudo sysctl -a | grep forward</div><div class="line">  net.inet.ip.forwarding: 0</div><div class="line">  net.inet6.ip6.forwarding: 0</div></pre></td></tr></table></figure>
<h1 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ mkdir -p aa/bb  <span class="comment"># 可以创建path</span></div></pre></td></tr></table></figure>
<h1 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ mysql -u用户 -h地址 -P端口 -p</div></pre></td></tr></table></figure>
<h1 id="查看数据库表结构"><a href="#查看数据库表结构" class="headerlink" title="查看数据库表结构"></a>查看数据库表结构</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ show columns from tablexxx;</div></pre></td></tr></table></figure>
<h1 id="添加用户并设置ssh"><a href="#添加用户并设置ssh" class="headerlink" title="添加用户并设置ssh"></a>添加用户并设置ssh</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">$ useradd xx1</div><div class="line">$ passwd xx1 <span class="comment"># 设置密码</span></div><div class="line">$ usermod -g wheel xx1 <span class="comment"># 添加到sudoers中，wheel组(或者是sudo组)里的成员都有sudo权限</span></div><div class="line">$ <span class="comment"># 或者在/etc/sudoers 文件中增加 xx1 ALL=(ALL) NOPASSWD: ALL</span></div><div class="line">$ <span class="built_in">cd</span> /home/xx1</div><div class="line">$ <span class="comment"># 在.ssh/authorized_keys 文件中添加公钥</span></div><div class="line">$ <span class="comment"># 开启秘钥登录</span></div><div class="line">$ <span class="comment"># 修改/etc/ssh/sshd_config中打开Pub开头的公钥支持</span></div><div class="line">$ service sshd restart</div><div class="line"></div><div class="line">```  </div><div class="line"></div><div class="line"><span class="comment"># scp 命令</span></div><div class="line">scp 本地 xx@host:远程  </div><div class="line">scp xx@host:远程 本地</div><div class="line"></div><div class="line"><span class="comment"># tee 命令</span></div><div class="line"></div><div class="line"><span class="comment"># curl 命令</span></div><div class="line">curl支持很多协议，可以使用curl-config --protocols命令查看支持的所有协议  </div><div class="line">curl能查看远程/本地端口是否打开，但只能是其支持的协议类型，所以如果需要知道准确信息，要使用后面的方法   </div><div class="line">一般来说 curl 支持 http 协议，而 grpc 是基于 http/2，因此可以使用 curl 探测端口</div><div class="line"></div><div class="line"><span class="comment"># 查看远程端口是否打开</span></div><div class="line">[常用方法](https://www.awaimai.com/914.html)</div><div class="line">- /dev/tcp/host/port  host/port为需要测试的ip和端口</div><div class="line">  /dev/udp/host/port</div><div class="line"></div><div class="line">- telnet host port （这种方法好，不要用冒号，但只能测试TCP的端口）</div><div class="line"></div><div class="line">- nc -zv host port  (这种方法最好，netcat，不要用冒号，支持TPC/UDP)</div><div class="line"></div><div class="line"><span class="comment"># cat &lt;&lt; EOF &gt; somefile </span></div><div class="line">用于终端/脚本中输入文本至文件中，用EOF表示结束</div><div class="line">``` bash</div><div class="line">$ cat &lt;&lt; EOF &gt; <span class="built_in">test</span> 或者 cat &lt;&lt; EOF &gt;&gt; <span class="built_in">test</span> 叠加内容 </div><div class="line">&gt; first line</div><div class="line">&gt; second line</div><div class="line">&gt; EOF</div><div class="line">$ cat <span class="built_in">test</span></div><div class="line">first line</div><div class="line">seconde line</div></pre></td></tr></table></figure>
<p>其中在非脚本中（即在终端中），有一种更方便的做法<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ cat &gt; <span class="built_in">test</span></div><div class="line">&gt; first line</div><div class="line">&gt; second line</div><div class="line">通过ctrl<span class="_">-d</span>结束输入</div></pre></td></tr></table></figure></p>
<p>原理：cat是输出后面的内容，而内容的源即可以来自文本也可以来自终端/脚本输入，比 echo “xxx” &gt; file 好用</p>
<h1 id="ssh-与-telnet-的区别"><a href="#ssh-与-telnet-的区别" class="headerlink" title="ssh 与 telnet 的区别"></a>ssh 与 telnet 的区别</h1><p>telnet是明文传送, ssh是加密的且支持压缩<br>都是需要开启对应的服务：telnet-service sshd</p>
<h1 id="gt-dev-null-2-gt-amp-1"><a href="#gt-dev-null-2-gt-amp-1" class="headerlink" title="&gt; /dev/null 2&gt;&amp;1"></a>&gt; /dev/null 2&gt;&amp;1</h1><p>/dev/null ：代表空设备文件<br>> ：代表重定向到哪里，例如：echo “123” &gt; /home/123.txt<br>1 ：表示stdout标准输出，系统默认值是1，所以”&gt;/dev/null”等同于”1&gt;/dev/null”<br>2 ：表示stderr标准错误<br>&amp; ：表示等同于的意思，2&gt;&amp;1，表示2的输出重定向等同于1  </p>
<h1 id="curl-o-filepath-url"><a href="#curl-o-filepath-url" class="headerlink" title="curl -o filepath url"></a>curl -o filepath url</h1><h1 id="nohup-命令"><a href="#nohup-命令" class="headerlink" title="nohup 命令"></a>nohup 命令</h1><p><a href="https://www.ibm.com/developerworks/cn/linux/l-cn-nohup/index.html" target="_blank" rel="external">几种后台运行的方法</a><br>nohup command arg &gt; xx.log 2&gt;&amp;1 &amp;</p>
<h1 id="centos-路径区分大小写"><a href="#centos-路径区分大小写" class="headerlink" title="centos 路径区分大小写"></a>centos 路径区分大小写</h1><p> Linux 系统是大小写敏感的，而 Windows 系统和 Mac 系统正好相反<br> golang import path 是否区分大小写也取决于系统</p>
<h1 id="find-or-grep"><a href="#find-or-grep" class="headerlink" title="find or grep"></a>find or grep</h1><p>find: 根据文件属性查找<br>find /path -name，不用加-r<br>grep: 根据文件内容查找<br>grep -r magic /path</p>
<h1 id="cURL-and-wget"><a href="#cURL-and-wget" class="headerlink" title="cURL and wget"></a>cURL and wget</h1><p>wget简单一些，下载文件时直接wget然后粘贴URL，curl还要打个 -o . 而且wget有断点续传（ -c ），虽然不算常用。wget是个专职的下载利器，简单，专一，极致；而curl可以下载，但是长项不在于下载，而在于模拟提交web数据，POST/GET请求，调试网页，等等。个人用途上，我经常用wget来下载文件，加 -c选项不怕断网；使用curl 来跟网站的API 交互，简便清晰。</p>
<h1 id="查看当前用户的-uid-gid-等信息"><a href="#查看当前用户的-uid-gid-等信息" class="headerlink" title="查看当前用户的 uid, gid 等信息"></a>查看当前用户的 uid, gid 等信息</h1><p>id [不填表示查看当前用户的，也可以加上指定用户名来查询]<br>一般 root 用户的 uid 为 0</p>
<h1 id="查看系统上的所有用户（Linux支持，Mac不支持）"><a href="#查看系统上的所有用户（Linux支持，Mac不支持）" class="headerlink" title="查看系统上的所有用户（Linux支持，Mac不支持）"></a>查看系统上的所有用户（Linux支持，Mac不支持）</h1><p>查看 <code>/etc/passwd</code> 文件即可<br><code>cat /etc/passwd | cut -f 1 -d :</code><br><code>users</code> 命令只能查看当前登录的用户<br><code>who</code> 命名只能查看哪些用户何时登录过系统</p>
<h1 id="systemd-和-systemctl"><a href="#systemd-和-systemctl" class="headerlink" title="systemd 和 systemctl"></a>systemd 和 systemctl</h1><p>历史上，Linux 的启动一直采用init进程。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo /etc/init.d/apache2 start</div><div class="line"><span class="comment"># 或者</span></div><div class="line">$ service apache2 start</div></pre></td></tr></table></figure></p>
<p>这种方法有两个缺点。<br>一是启动时间长。init进程是串行启动，只有前一个进程启动完，才会启动下一个进程。<br>二是启动脚本复杂。init进程只是执行启动脚本，不管其他事情。脚本需要自己处理各种情况，这往往使得脚本变得很长。<br><code>Systemd</code> 就是为了解决这些问题而诞生的。它的设计目标是，为系统的启动和管理提供一套完整的解决方案。<br>根据 Linux 惯例，字母d是守护进程（daemon）的缩写。 Systemd 这个名字的含义，就是它要守护整个系统。<br>使用了 Systemd，就不需要再用init了。Systemd 取代了initd，成为系统的第一个进程（PID 等于 1），其他进程都是它的子进程。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ systemctl --version</div></pre></td></tr></table></figure></p>
<p><code>systemctl</code> 是 Systemd 的主命令，用于管理系统。 Systemd 并不是一个命令，而是一组命令，涉及到系统管理的方方面面。<br><a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html" target="_blank" rel="external">教程</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 重启系统</span></div><div class="line">$ sudo systemctl reboot</div><div class="line"></div><div class="line"><span class="comment"># 关闭系统，切断电源</span></div><div class="line">$ sudo systemctl poweroff</div><div class="line"></div><div class="line"><span class="comment"># CPU停止工作</span></div><div class="line">$ sudo systemctl halt</div><div class="line"></div><div class="line"><span class="comment"># 暂停系统</span></div><div class="line">$ sudo systemctl <span class="built_in">suspend</span></div><div class="line"></div><div class="line"><span class="comment"># 让系统进入冬眠状态</span></div><div class="line">$ sudo systemctl hibernate</div><div class="line"></div><div class="line"><span class="comment"># 让系统进入交互式休眠状态</span></div><div class="line">$ sudo systemctl hybrid-sleep</div><div class="line"></div><div class="line"><span class="comment"># 启动进入救援状态（单用户状态）</span></div><div class="line">$ sudo systemctl rescue</div></pre></td></tr></table></figure></p>
<p>Systemd 可以管理所有系统资源。不同的资源统称为 Unit（单位）。一共有12种。</p>
<ol>
<li>Service unit：系统服务</li>
<li>Target unit：多个 Unit 构成的一个组</li>
<li>Device Unit：硬件设备</li>
<li>Mount Unit：文件系统的挂载点</li>
<li>Automount Unit：自动挂载点</li>
<li>Path Unit：文件或路径</li>
<li>Scope Unit：不是由 Systemd 启动的外部进程</li>
<li>Slice Unit：进程组</li>
<li>Snapshot Unit：Systemd 快照，可以切回某个快照</li>
<li>Socket Unit：进程间通信的 socket</li>
<li>Swap Unit：swap 文件</li>
<li>Timer Unit：定时器</li>
</ol>
<p>对于用户来说，最常用的是下面这些命令，用于启动和停止 Unit（主要是 service）。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 立即启动一个服务</span></div><div class="line">$ sudo systemctl start apache.service</div><div class="line"></div><div class="line"><span class="comment"># 立即停止一个服务</span></div><div class="line">$ sudo systemctl stop apache.service</div><div class="line"></div><div class="line"><span class="comment"># 重启一个服务</span></div><div class="line">$ sudo systemctl restart apache.service</div><div class="line"></div><div class="line"><span class="comment"># 杀死一个服务的所有子进程</span></div><div class="line">$ sudo systemctl <span class="built_in">kill</span> apache.service</div><div class="line"></div><div class="line"><span class="comment"># 重新加载一个服务的配置文件</span></div><div class="line">$ sudo systemctl reload apache.service</div><div class="line"></div><div class="line"><span class="comment"># 重载所有修改过的配置文件</span></div><div class="line">$ sudo systemctl daemon-reload</div><div class="line"></div><div class="line"><span class="comment"># 显示某个 Unit 的所有底层参数</span></div><div class="line">$ systemctl show httpd.service</div><div class="line"></div><div class="line"><span class="comment"># 显示某个 Unit 的指定属性的值</span></div><div class="line">$ systemctl show -p CPUShares httpd.service</div><div class="line"></div><div class="line"><span class="comment"># 设置某个 Unit 的指定属性</span></div><div class="line">$ sudo systemctl <span class="built_in">set</span>-property httpd.service CPUShares=500</div></pre></td></tr></table></figure></p>
<p>每一个 Unit 都有一个配置文件，告诉 Systemd 怎么启动这个 Unit 。<br>Systemd 默认从目录/etc/systemd/system/读取配置文件。但是，里面存放的大部分文件都是符号链接，指向目录/usr/lib/systemd/system/，真正的配置文件存放在那个目录。<br><code>systemctl cat docker.service</code> 可以查看docker服务的配置文件<br><code>systemctl status docker.service</code> 可以查看docker当前的状态</p>
<h1 id="shell-空语句"><a href="#shell-空语句" class="headerlink" title="shell 空语句"></a>shell 空语句</h1><p>:</p>
<h1 id="nc-l-8000"><a href="#nc-l-8000" class="headerlink" title="nc -l 8000"></a>nc -l 8000</h1><p><code>-l</code> 表示监听端口，如果该端口已经被bind，则返回<code>nc: Address already in use</code>，否则则会bind该端口，用 ctrl-c结束监听</p>
<h1 id="nc-和-telnet"><a href="#nc-和-telnet" class="headerlink" title="nc 和 telnet"></a>nc 和 telnet</h1><p>基本格式一致<br>nc host port    如果对应的 tcp 端口开启，则阻塞等待用户输入，否则直接结束<br>telnet host port    可以看到详细的连接情况   </p>
<h1 id="set-到底有什么用，以及其他奇怪的用法"><a href="#set-到底有什么用，以及其他奇怪的用法" class="headerlink" title="set 到底有什么用，以及其他奇怪的用法"></a>set 到底有什么用，以及其他奇怪的用法</h1><p>首先介绍下linux中的变量，分为<strong>用户环境变量</strong>和<strong>各类shell语言内的变量</strong>。其中<strong>用户变量</strong>可以被所有shell脚本读取，用env查看，需要export才会写入用户环境变量。而<strong>shell内的变量</strong>只能在对应的shell进程中可读（私有变量），例如zsh中的变量只能在对应的那个zsh进程中可读，bash的变量只能在bash对应的那个进程中可读。<strong>shell变量</strong>直接可以用 <code>a=12</code> 即可设置。利用<strong>export</strong>可以将对应的shell变量转变为用户环境变量。<br><strong>set</strong>是<strong>bash</strong>这个shell脚本语言內建的命令。用处有三大类：   </p>
<ol>
<li>set -x / set +x / set -e 这类bash脚本配置开关的设置</li>
<li>set 后面不跟任何参数，可以查看当前bash进程内的所有私有变量</li>
<li>set – a b c 将 a，b，c分别设置为 $1，$2，$3</li>
<li>set – 表示清除位置参数，即 $1，$2，$3 …</li>
</ol>
<h1 id="kill-pid-与-kill-9-pid-的区别"><a href="#kill-pid-与-kill-9-pid-的区别" class="headerlink" title="kill pid 与 kill -9 pid 的区别"></a>kill pid 与 kill -9 pid 的区别</h1><p>kill pid 的作用是向进程号为pid的进程发送 SIGTERM（这是 kill 默认发送的信号），该信号是一个结束进程的信号且可以被应用程序捕获。若应用程序没有捕获并响应该信号的逻辑代码，则该信号的默认动作是 kill 掉进程。这是终止指定进程的推荐做法。<br>kill -9 pid 则是向进程号为pid的进程发送 SIGKILL（该信号的编号为9），从本文上面的说明可知，SIGKILL 既不能被应用程序捕获，也不能被阻塞或忽略，其动作是立即结束指定进程。通俗地说，应用程序根本无法“感知” SIGKILL 信号，它在完全无准备的情况下，就被收到 SIGKILL 信号的操作系统给干掉了，显然，在这种“暴力”情况下，应用程序完全没有释放当前占用资源的机会。事实上，SIGKILL 信号是直接发给init 进程的，它收到该信号后，负责终止 pid 指定的进程。在某些情况下（如进程已经 hang 死，无法响应正常信号），就可以使用kill -9 来结束进程。</p>
<h1 id="ps-eww-p-xxx-查看对应进程内的环境变量"><a href="#ps-eww-p-xxx-查看对应进程内的环境变量" class="headerlink" title="ps eww -p xxx 查看对应进程内的环境变量"></a>ps eww -p xxx 查看对应进程内的环境变量</h1><h1 id="var-offset-length"><a href="#var-offset-length" class="headerlink" title="${var:offset:length}"></a>${var:offset:length}</h1><p>字符串切割，第三个参数可以省略，但第二个参数必须为大于等于0的数。否则就是另一个命令，见下面这条。   </p>
<h1 id="var-word"><a href="#var-word" class="headerlink" title="${var:-word}"></a>${var:-word}</h1><p>表示如果 var 存在，则返回 var，否则返回 word</p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#如何方便的移除-yum-安装的-package-以及其依赖的所有-packages"><span class="toc-number">1.</span> <span class="toc-text">如何方便的移除 yum 安装的 package 以及其依赖的所有 packages</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0-1"><span class="toc-number">2.</span> <span class="toc-text">$0 $1 $@ $</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker-宿主-容器，注意顺序不要弄反了"><span class="toc-number">3.</span> <span class="toc-text">docker  宿主:容器，注意顺序不要弄反了</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#rpm"><span class="toc-number">4.</span> <span class="toc-text">rpm</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#yum"><span class="toc-number">5.</span> <span class="toc-text">yum</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ssh"><span class="toc-number">6.</span> <span class="toc-text">ssh</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#防火墙"><span class="toc-number">7.</span> <span class="toc-text">防火墙</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker"><span class="toc-number">8.</span> <span class="toc-text">docker</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CentOS下docker权限问题"><span class="toc-number">8.0.1.</span> <span class="toc-text">CentOS下docker权限问题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SELinux"><span class="toc-number">9.</span> <span class="toc-text">SELinux</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker-compose"><span class="toc-number">10.</span> <span class="toc-text">docker-compose</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#epel扩展源"><span class="toc-number">10.0.1.</span> <span class="toc-text">epel扩展源</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#systemctl"><span class="toc-number">11.</span> <span class="toc-text">systemctl</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#chkconfig"><span class="toc-number">12.</span> <span class="toc-text">chkconfig</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#lsof"><span class="toc-number">13.</span> <span class="toc-text">lsof</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#chkconfig-1"><span class="toc-number">14.</span> <span class="toc-text">chkconfig</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vagrant"><span class="toc-number">15.</span> <span class="toc-text">vagrant</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mac中开启端口转发"><span class="toc-number">16.</span> <span class="toc-text">mac中开启端口转发</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mkdir"><span class="toc-number">17.</span> <span class="toc-text">mkdir</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#连接数据库"><span class="toc-number">18.</span> <span class="toc-text">连接数据库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查看数据库表结构"><span class="toc-number">19.</span> <span class="toc-text">查看数据库表结构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#添加用户并设置ssh"><span class="toc-number">20.</span> <span class="toc-text">添加用户并设置ssh</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ssh-与-telnet-的区别"><span class="toc-number">21.</span> <span class="toc-text">ssh 与 telnet 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#gt-dev-null-2-gt-amp-1"><span class="toc-number">22.</span> <span class="toc-text">> /dev/null 2>&1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#curl-o-filepath-url"><span class="toc-number">23.</span> <span class="toc-text">curl -o filepath url</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nohup-命令"><span class="toc-number">24.</span> <span class="toc-text">nohup 命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#centos-路径区分大小写"><span class="toc-number">25.</span> <span class="toc-text">centos 路径区分大小写</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#find-or-grep"><span class="toc-number">26.</span> <span class="toc-text">find or grep</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cURL-and-wget"><span class="toc-number">27.</span> <span class="toc-text">cURL and wget</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查看当前用户的-uid-gid-等信息"><span class="toc-number">28.</span> <span class="toc-text">查看当前用户的 uid, gid 等信息</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查看系统上的所有用户（Linux支持，Mac不支持）"><span class="toc-number">29.</span> <span class="toc-text">查看系统上的所有用户（Linux支持，Mac不支持）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#systemd-和-systemctl"><span class="toc-number">30.</span> <span class="toc-text">systemd 和 systemctl</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#shell-空语句"><span class="toc-number">31.</span> <span class="toc-text">shell 空语句</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nc-l-8000"><span class="toc-number">32.</span> <span class="toc-text">nc -l 8000</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nc-和-telnet"><span class="toc-number">33.</span> <span class="toc-text">nc 和 telnet</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set-到底有什么用，以及其他奇怪的用法"><span class="toc-number">34.</span> <span class="toc-text">set 到底有什么用，以及其他奇怪的用法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#kill-pid-与-kill-9-pid-的区别"><span class="toc-number">35.</span> <span class="toc-text">kill pid 与 kill -9 pid 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ps-eww-p-xxx-查看对应进程内的环境变量"><span class="toc-number">36.</span> <span class="toc-text">ps eww -p xxx 查看对应进程内的环境变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#var-offset-length"><span class="toc-number">37.</span> <span class="toc-text">${var:offset:length}</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#var-word"><span class="toc-number">38.</span> <span class="toc-text">${var:-word}</span></a></li></ol>
    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 Landleany
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


